
<!DOCTYPE html>
<html lang="english">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="https://cloud-init.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://cloud-init.github.io/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="https://cloud-init.github.io/theme/font-awesome/css/font-awesome.min.css">


    <link href="https://cloud-init.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Cloud-init Info Atom">


    <link rel="shortcut icon" href="/theme/img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/theme/img/favicon.ico" type="image/x-icon">

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50554247-3', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#2c001e">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#2c001e">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#2c001e">

<meta name="author" content="chad.smith@canonical.com" />
<meta name="description" content="Meeting information #cloud-init: Cloud-init bi-weekly status meeting, 30 Apr at 16:04 — 17:14 UTC Full logs at [[http://ubottu.com/meetingology/logs/cloud-init/2018/cloud-init.2018-04-30-16.04.log.html]] Meeting summary Recent Changes The discussion about &#34;Recent Changes&#34; started at 16:07. #cloud-init Reviews: http://bit.ly/ci-reviews | Meeting …" />
<meta name="keywords" content="">

<meta property="og:site_name" content="Cloud-init Info"/>
<meta property="og:title" content="Cloud-init bi-weekly status"/>
<meta property="og:description" content="Meeting information #cloud-init: Cloud-init bi-weekly status meeting, 30 Apr at 16:04 — 17:14 UTC Full logs at [[http://ubottu.com/meetingology/logs/cloud-init/2018/cloud-init.2018-04-30-16.04.log.html]] Meeting summary Recent Changes The discussion about &#34;Recent Changes&#34; started at 16:07. #cloud-init Reviews: http://bit.ly/ci-reviews | Meeting …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://cloud-init.github.io/status-2018-04-30.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2018-04-30 16:04:00+00:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://cloud-init.github.io/author/chadsmithcanonicalcom.html">
<meta property="article:section" content="status-meeting-minutes"/>
<meta property="og:image" content="/images/cloud-init-orange.svg">

  <title>Cloud-init Info &ndash; Cloud-init bi-weekly status</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://cloud-init.github.io">
        <img src="/images/cloud-init-orange.svg" alt="Cloud-init" title="Cloud-init">
      </a>
      <h1><a href="https://cloud-init.github.io">Cloud-init</a></h1>

<p>Make your cloud images be all they can be</p>
      <nav>
        <ul class="list">

          <li><a href="https://cloudinit.readthedocs.org/" target="_blank">Docs</a></li>
          <li><a href="https://cloud-init.io" target="_blank">Overview</a></li>
          <li><a href="https://cloudinit.readthedocs.io/en/latest/topics/hacking.html" target="_blank">Hacking</a></li>
          <li><a href="https://jenkins.ubuntu.com/server/view/cloud-init/" target="_blank">CI builds</a></li>
          <li><a href="https://launchpad.net/cloud-init" target="_blank">Code</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-github" href="https://github.com/cloud-init" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-wechat" href="https://webchat.freenode.net/?channels=cloud-init" target="_blank"><i class="fa fa-wechat"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="https://cloud-init.github.io">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://cloud-init.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="status-2018-04-30">Cloud-init bi-weekly status</h1>
    <p>
      Posted on Mon 30 April 2018 in <a href="https://cloud-init.github.io/category/status-meeting-minutes.html">status-meeting-minutes</a>

        &#8226; 12 min read
    </p>
  </header>


  <div>
    <h2>Meeting information</h2>
<ul>
<li>#cloud-init: Cloud-init bi-weekly status meeting, 30 Apr at 16:04 &mdash; 17:14 UTC</li>
<li>Full logs at [[<a href="http://ubottu.com/meetingology/logs/cloud-init/2018/cloud-init.2018-04-30-16.04.log.html">http://ubottu.com/meetingology/logs/cloud-init/2018/cloud-init.2018-04-30-16.04.log.html</a>]]</li>
</ul>
<h2>Meeting summary</h2>
<h3>Recent Changes</h3>
<p>The discussion about "Recent Changes" started at 16:07.</p>
<h3>#cloud-init Reviews: <a href="http://bit.ly/ci-reviews">http://bit.ly/ci-reviews</a> | Meeting minutes: <a href="https://goo.gl/mrHdaj">https://goo.gl/mrHdaj</a> | Next status meeting: Monday 5/14 16:00 UTC | cloud-init 18.2 released (03/28/2018)</h3>
<p>The discussion about "#cloud-init Reviews: <a href="http://bit.ly/ci-reviews">http://bit.ly/ci-reviews</a> | Meeting minutes: <a href="https://goo.gl/mrHdaj">https://goo.gl/mrHdaj</a> | Next status meeting: Monday 5/14 16:00 UTC | cloud-init 18.2 released (03/28/2018)" started at 16:08.</p>
<ul>
<li><strong>LINK</strong>: <a href="https://jenkins.ubuntu.com/server/job/cloud-init-integration-proposed-b/">https://jenkins.ubuntu.com/server/job/cloud-init-integration-proposed-b/</a> </li>
<li><strong>LINK</strong>: <a href="https://code.launchpad.net/~cloud-init-dev/cloud-init/+git/cloud-init/+ref/master/+activereviews">https://code.launchpad.net/~cloud-init-dev/cloud-init/+git/cloud-init/+ref/master/+activereviews</a> </li>
</ul>
<h3>In-progresss Development</h3>
<p>The discussion about "In-progresss Development" started at 16:21.</p>
<ul>
<li><strong>LINK</strong>: <a href="https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1767412">https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1767412</a> </li>
<li><strong>LINK</strong>: <a href="https://code.launchpad.net/~jocha/cloud-init/+git/cloud-init/+merge/344192">https://code.launchpad.net/~jocha/cloud-init/+git/cloud-init/+merge/344192</a> </li>
<li><strong>LINK</strong>: <a href="https://code.launchpad.net/~smoser/cloud-init/+git/cloud-init/+merge/344181">https://code.launchpad.net/~smoser/cloud-init/+git/cloud-init/+merge/344181</a> </li>
<li><strong>LINK</strong>: <a href="https://code.launchpad.net/~raharper/cloud-init/+git/cloud-init/+merge/344198">https://code.launchpad.net/~raharper/cloud-init/+git/cloud-init/+merge/344198</a> </li>
</ul>
<h3>Office Hours (next ~30 mins)</h3>
<p>The discussion about "Office Hours (next ~30 mins)" started at 16:31.</p>
<ul>
<li><strong>LINK</strong>: <a href="https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712">https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712</a> </li>
<li><strong>LINK</strong>: <a href="https://github.com/SUSE/Enceladus/tree/master/cloud-netconfig">https://github.com/SUSE/Enceladus/tree/master/cloud-netconfig</a> </li>
<li><strong>ACTION</strong>: blackboxsw to have discussions w/ team on datasource maintaining network on each reboot per  <a href="https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712">https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712</a></li>
<li><strong>LINK</strong>: <a href="https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538">https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538</a> </li>
<li><strong>LINK</strong>: <a href="https://hackmd.io/M1Tae41PQBC7a9qMsurTJw">https://hackmd.io/M1Tae41PQBC7a9qMsurTJw</a>?both </li>
<li><strong>LINK</strong>: <a href="https://cloud-init.github.io/">https://cloud-init.github.io/</a> </li>
</ul>
<h2>Vote results</h2>
<h2>Action items, by person</h2>
<ul>
<li>blackboxsw</li>
<li>blackboxsw to have discussions w/ team on datasource maintaining network on each reboot per  <a href="https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712">https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712</a></li>
<li>mgerdts</li>
<li>blackboxsw to have discussions w/ team on datasource maintaining network on each reboot per  <a href="https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712">https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712</a></li>
</ul>
<h2>Done items</h2>
<ul>
<li>(none)</li>
</ul>
<h2>People present (lines said)</h2>
<ul>
<li>blackboxsw (113)</li>
<li>mgerdts (21)</li>
<li>ubot5 (12)</li>
<li>akik (5)</li>
<li>stanguturi (4)</li>
<li>meetingology (4)</li>
<li>robjo (3)</li>
</ul>
<h2>Full Log</h2>
<p>16:04 <code>&lt;blackboxsw&gt;</code> #startmeeting Cloud-init bi-weekly status meeting</p>
<p>16:04 <code>&lt;meetingology&gt;</code> Meeting started Mon Apr 30 16:04:15 2018 UTC.  The chair is blackboxsw. Information about MeetBot at <a href="http://wiki.ubuntu.com/meetingology.">http://wiki.ubuntu.com/meetingology.</a></p>
<p>16:04 <code>&lt;meetingology&gt;</code> </p>
<p>16:04 <code>&lt;meetingology&gt;</code> Available commands: action commands idea info link nick</p>
<p>16:04 <code>&lt;blackboxsw&gt;</code> hi folks, sorry for the mis-representation of when our cloud-init status meeting date. It's time for another episode/update of the happenings in cloud-init.</p>
<p>16:05 <code>&lt;blackboxsw&gt;</code> Next meeting will be in two weeks: May 7th</p>
<p>16:05 <code>&lt;blackboxsw&gt;</code> at 16:00 UTC</p>
<p>16:06 <code>&lt;blackboxsw&gt;</code> The last couple weeks on the upstream side of the house has been a big push to get testing and stability into master for the Ubuntu Bionic release freeze</p>
<p>16:06 <code>&lt;blackboxsw&gt;</code> ... I'd better start with the topic</p>
<p>16:07 <code>&lt;blackboxsw&gt;</code> #topic Recent Changes</p>
<p>16:07 <code>&lt;blackboxsw&gt;</code> The last couple weeks on the upstream side of the house has been a big push to get testing and stability into master for the Ubuntu Bionic release freeze.</p>
<p>16:07 <code>&lt;robjo&gt;</code> May 7th would be 1 week from today that should be May 14th</p>
<p>16:07 <code>&lt;blackboxsw&gt;</code> robjo: gah, I did it again. Thank you... glad someone's listening.    Next cloud-init status meeting Monday May 14th 16:00 UTC</p>
<p>16:08 <code>&lt;blackboxsw&gt;</code> #topic #cloud-init Reviews: <a href="http://bit.ly/ci-reviews">http://bit.ly/ci-reviews</a> | Meeting minutes: <a href="https://goo.gl/mrHdaj">https://goo.gl/mrHdaj</a> | Next status meeting: Monday 5/14 16:00 UTC | cloud-init 18.2 released (03/28/2018)</p>
<p>16:08 <code>&lt;blackboxsw&gt;</code> ok topic agrees in channel now, so I don't botch it at the end of meeting</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> Along with a blitz for stability in Bionic the following changes have been shepherded into tip of master</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - Add reporting events and log_time around early source of blocking time</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> [Ryan Harper]</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - IBMCloud: recognize provisioning environment during debug boots.</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> (LP: #1767166)</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - net: detect unstable network names and trigger a settle if needed</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> [Ryan Harper] (LP: #1766287)</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - IBMCloud: improve documentation in datasource.</p>
<p>16:09 <code>&lt;ubot5&gt;</code> Launchpad bug 1767166 in cloud-init (Ubuntu) "IBMCloud datasource does not recognize provisioning in debug mode." [Medium,Confirmed] <a href="https://launchpad.net/bugs/1767166">https://launchpad.net/bugs/1767166</a></p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - sysconfig: dhcp6 subnet type should not imply dhcpv4 [Vitaly Kuznetsov]</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - packages/debian/control.in: add missing dependency on iproute2.</p>
<p>16:09 <code>&lt;ubot5&gt;</code> Launchpad bug 1766287 in cloud-init (Ubuntu) "18.04 minimal images on GCE intermittently fail to set up networking " [Undecided,In progress] <a href="https://launchpad.net/bugs/1766287">https://launchpad.net/bugs/1766287</a></p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> (LP: #1766711)</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - DataSourceSmartOS: add locking of serial device.</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> [Mike Gerdts] (LP: #1746605)</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - DataSourceSmartOS: sdc:hostname is ignored [Mike Gerdts] (LP: #1765085)</p>
<p>16:09 <code>&lt;ubot5&gt;</code> Launchpad bug 1766711 in cloud-init (Ubuntu Bionic) "cloud-init missing dependency on iproute2" [Medium,Fix committed] <a href="https://launchpad.net/bugs/1766711">https://launchpad.net/bugs/1766711</a></p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - DataSourceSmartOS: list() should always return a list</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> [Mike Gerdts] (LP: #1763480)</p>
<p>16:09 <code>&lt;ubot5&gt;</code> Launchpad bug 1746605 in cloud-init "DataSourceSmartOS needs locking" [Medium,Fix committed] <a href="https://launchpad.net/bugs/1746605">https://launchpad.net/bugs/1746605</a></p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - schema: in validation, raise ImportError if strict but no jsonschema.</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - set_passwords: Add newline to end of sshd config, only restart if</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> updated. (LP: #1677205)</p>
<p>16:09 <code>&lt;ubot5&gt;</code> Launchpad bug 1765085 in cloud-init "DataSourceSmartOS ignores sdc:hostname" [Medium,Fix committed] <a href="https://launchpad.net/bugs/1765085">https://launchpad.net/bugs/1765085</a></p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - pylint: pay attention to unused variable warnings.</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - doc: Add documentation for AliYun datasource. [Junjie Wang]</p>
<p>16:09 <code>&lt;blackboxsw&gt;</code> - Schema: do not warn on duplicate items in commands. (LP: #1764264)</p>
<p>16:09 <code>&lt;ubot5&gt;</code> Launchpad bug 1763480 in cloud-init "DataSourceSmartOS list() should always return a list" [Medium,Fix committed] <a href="https://launchpad.net/bugs/1763480">https://launchpad.net/bugs/1763480</a></p>
<p>16:09 <code>&lt;ubot5&gt;</code> Launchpad bug 1677205 in cloud-init "cloud-init eats final EOL of sshd_config" [Medium,Fix committed] <a href="https://launchpad.net/bugs/1677205">https://launchpad.net/bugs/1677205</a></p>
<p>16:09 <code>&lt;ubot5&gt;</code> Launchpad bug 1764264 in juju 2.3 "bionic cloud-init 18.2 WARNING Juju's 'runcmd' stanza" [High,Triaged] <a href="https://launchpad.net/bugs/1764264">https://launchpad.net/bugs/1764264</a></p>
<p>16:10 <code>&lt;blackboxsw&gt;</code> the general theme has been: new IBMCloud datasource support for cloud-init, SmartOS datasource work by mgerdts, and some json schema improvements</p>
<p>16:12 <code>&lt;blackboxsw&gt;</code> so background on IBM, is that their support used to be ConfigDrive based datasource only, but there is now some additional support for different IBM boot/provisioning  stages, hence a new datasource that can support different boot modew</p>
<p>16:12 <code>&lt;blackboxsw&gt;</code> *boot modes</p>
<p>16:14 <code>&lt;blackboxsw&gt;</code> over the last two weeks we've landed an SRU into xenial and artful: 18.2-4-g05926e48-0ubuntu1~16.04.1  and   bionic sits at 18.2-14-g6d48d265-0ubuntu1</p>
<p>16:15 <code>&lt;mgerdts&gt;</code> On the SmartOS side, my changes are driven by our adoption of bhyve (moving away from kvm/qemu).  qemu provides a dhcp server VMs could fall back to if could-init was missing or misbehaving.  bhyve doesn't have that, so I've been working on getting cloud-init to be more stable with the bhyve serial metadata service.</p>
<p>16:15 <code>&lt;blackboxsw&gt;</code> Also, to our continuous integration on jenkins we now have an additional test for proposed packages in ubuntu for the bionic release to make sure ubuntu doesn't break across pending upgrades</p>
<p>16:15 <code>&lt;blackboxsw&gt;</code> #link <a href="https://jenkins.ubuntu.com/server/job/cloud-init-integration-proposed-b/">https://jenkins.ubuntu.com/server/job/cloud-init-integration-proposed-b/</a></p>
<p>16:16 <code>&lt;blackboxsw&gt;</code> that integration tests hits the suite of platforms lxd, kvm and ec2</p>
<p>16:16 <code>&lt;blackboxsw&gt;</code> excellent mgerdts, and thanks for the blitz on these branches</p>
<p>16:17 <code>&lt;blackboxsw&gt;</code> looks like there are a few still in our review queue that we'll be able to get through once the dust settles on the bionic release  (which should be this week)</p>
<p>16:17 <code>&lt;blackboxsw&gt;</code> #link <a href="https://code.launchpad.net/~cloud-init-dev/cloud-init/+git/cloud-init/+ref/master/+activereviews">https://code.launchpad.net/~cloud-init-dev/cloud-init/+git/cloud-init/+ref/master/+activereviews</a></p>
<p>16:19 <code>&lt;mgerdts&gt;</code> Is now the right time to discuss bug 1765801, or is that later?</p>
<p>16:19 <code>&lt;ubot5&gt;</code> bug 1765801 in cloud-init "network should be optionally reconfigured on every boot" [Undecided,Confirmed] <a href="https://launchpad.net/bugs/1765801">https://launchpad.net/bugs/1765801</a></p>
<p>16:20 <code>&lt;blackboxsw&gt;</code> I think over the last 2 weeks there have been a couple of requests in channel for how someone goes about getting newer cloud init into RHEL7, if anyone on the line today knows the contact point or process for that it'd be helpful. larsks doesn't seem to be around</p>
<p>16:20 <code>&lt;blackboxsw&gt;</code> mgerdts: probably in about 10 mins. thanks for brining it up</p>
<p>16:20 <code>&lt;blackboxsw&gt;</code> hopefully less.</p>
<p>16:20 <code>&lt;blackboxsw&gt;</code> ok I think that's it for recent changes, next topic (in-progress dev, then office hours (and bug discussion))</p>
<p>16:21 <code>&lt;blackboxsw&gt;</code> #topic In-progresss Development</p>
<p>16:21 <code>&lt;blackboxsw&gt;</code> We'll make this one short:</p>
<p>16:22 <code>&lt;blackboxsw&gt;</code> for ubuntu : bionic just went feature freeze last week, our team has a couple of IBM-related cheanges that we are pulling together for a quick SRU into xenial/artful to handle upgrade path from configdrive -&gt;` IBMCloud that we are working on the beginning of this week</p>
<p>16:22 <code>&lt;blackboxsw&gt;</code> we are also trying to wrap up validation of a Bionic SRU per the following bug</p>
<p>16:22 <code>&lt;blackboxsw&gt;</code> #link <a href="https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1767412">https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1767412</a></p>
<p>16:22 <code>&lt;ubot5&gt;</code> Launchpad bug 1767412 in cloud-init (Ubuntu Bionic) "SRU cloud-init 18.2-27-g6ef92c98-0ubuntu1" [Medium,Fix committed]</p>
<p>16:23 <code>&lt;blackboxsw&gt;</code> which grabs a number of the updates I listed in the last topic</p>
<p>16:23 <code>&lt;blackboxsw&gt;</code> since Ubuntu tends to sync all changes from tip into each release stream</p>
<p>16:23 <code>&lt;mgerdts&gt;</code> Is there any chance the SmartOS changes can piggy back on that IBM SRU</p>
<p>16:24 <code>&lt;mgerdts&gt;</code> asked too soon - I see they are mentioned in that bug.</p>
<p>16:25 <code>&lt;blackboxsw&gt;</code> mgerdts: no worries. good ask. probably not for this IBM SRU into xenial/artful which is going to be an exception to our update rule and only be a single cherry pick, but planning a folllowup SRU in about 2 weeks which will pull all changes from tip into artful/xenial/bionic/chunky releases</p>
<p>16:25 <code>&lt;mgerdts&gt;</code> ok</p>
<p>16:25 <code>&lt;blackboxsw&gt;</code> the cherry pick is to fasttrack it for IBM into xenial with minimal risk.</p>
<p>16:25 <code>&lt;blackboxsw&gt;</code> and we want to pull in all your changes if we can (and perform additional validation)</p>
<p>16:25 <code>&lt;blackboxsw&gt;</code> so the next SRU is our target</p>
<p>16:26 <code>&lt;blackboxsw&gt;</code> Also inprogress is some more Azure work on pre-provisioning that should land shortly:</p>
<p>16:26 <code>&lt;blackboxsw&gt;</code> #link <a href="https://code.launchpad.net/~jocha/cloud-init/+git/cloud-init/+merge/344192">https://code.launchpad.net/~jocha/cloud-init/+git/cloud-init/+merge/344192</a></p>
<p>16:27 <code>&lt;blackboxsw&gt;</code> as well as some builddeb fixes and network configuration printout fixes from smoser</p>
<p>16:29 <code>&lt;blackboxsw&gt;</code> smoser and rharper also worked out  some issues on specific google regions where cloud-init was getting hit by a race condition. Cloud-init started up before the kernel/udev was able to rename network devices to stable names like ens4 etc, so cloud-init's network configuration written ended up breaking because it represented devices like eth0 etc.</p>
<p>16:29 <code>&lt;blackboxsw&gt;</code> there are a couple of branches in flight to fix this issue:</p>
<p>16:29 <code>&lt;blackboxsw&gt;</code> #link <a href="https://code.launchpad.net/~smoser/cloud-init/+git/cloud-init/+merge/344181">https://code.launchpad.net/~smoser/cloud-init/+git/cloud-init/+merge/344181</a></p>
<p>16:30 <code>&lt;blackboxsw&gt;</code> #link <a href="https://code.launchpad.net/~raharper/cloud-init/+git/cloud-init/+merge/344198">https://code.launchpad.net/~raharper/cloud-init/+git/cloud-init/+merge/344198</a></p>
<p>16:30 <code>&lt;blackboxsw&gt;</code> ok I think that's it for in-progress work. So we'll head to office hours so we can chat bugs, branches reviews etc</p>
<p>16:31 <code>&lt;blackboxsw&gt;</code> #topic Office Hours (next ~30 mins)</p>
<p>16:31 <code>&lt;blackboxsw&gt;</code> We'll be hanging out here for anyone who wants more eyes on a review, feature discussions or bug triage....</p>
<p>16:32 <code>&lt;blackboxsw&gt;</code> well, some of us will be :) a couple of us are at a feature planning conference for the week.</p>
<p>16:33 <code>&lt;mgerdts&gt;</code> In <a href="https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712">https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712</a> smoser said that he was concerned about how this would interact with eventual network hotplug</p>
<p>16:34 <code>&lt;mgerdts&gt;</code> There doesn't seem to be a timeline for network hotplug and the lack of network autoreconfig on reboot is has popped up a couple times in the past week.  This is just with a couple early adopters and internal users.</p>
<p>16:34 <code>&lt;blackboxsw&gt;</code> #link <a href="https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712">https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712</a></p>
<p>16:35 <code>&lt;blackboxsw&gt;</code> just to track it in the meeting</p>
<p>16:35 <code>&lt;mgerdts&gt;</code> So coming up with some mechanism to make this work soon is pretty important to us.</p>
<p>16:35 <code>&lt;mgerdts&gt;</code> gotcha, will be sure to do that in the future.</p>
<p>16:35 * blackboxsw reads up on that link</p>
<p>16:35 <code>&lt;blackboxsw&gt;</code> no worries, I'm pedantic :)</p>
<p>16:36 <code>&lt;mgerdts&gt;</code> That's how you got chosen to run the meeting, I suppose.  :)</p>
<p>16:36 <code>&lt;blackboxsw&gt;</code> yeah network hotplug will have a long tail as far as feature develpment (agreed). I believe it's on our charter for this next quarter. but that's what is being discussed this week</p>
<p>16:37 <code>&lt;blackboxsw&gt;</code> heh on meeting comment ;) too true</p>
<p>16:39 <code>&lt;blackboxsw&gt;</code> so mgerdts your branch allows metadata to set maintain_network to allow cloud-init to control network configuration each reboot with a True value</p>
<p>16:39 <code>&lt;blackboxsw&gt;</code> ?</p>
<p>16:39 <code>&lt;mgerdts&gt;</code> yes</p>
<p>16:39 <code>&lt;mgerdts&gt;</code> if it's not set to true in our metadata, the traditional behavior stays.</p>
<p>16:40 <code>&lt;mgerdts&gt;</code> That is, in the default path, any customization that someone does in the guest will not get whacked.</p>
<p>16:41 <code>&lt;robjo&gt;</code> cloud-netconfig handles hotplug <a href="https://github.com/SUSE/Enceladus/tree/master/cloud-netconfig">https://github.com/SUSE/Enceladus/tree/master/cloud-netconfig</a> contributions for other distros welcome</p>
<p>16:42 <code>&lt;blackboxsw&gt;</code> nice reference robjo</p>
<p>16:42 <code>&lt;blackboxsw&gt;</code> #link <a href="https://github.com/SUSE/Enceladus/tree/master/cloud-netconfig">https://github.com/SUSE/Enceladus/tree/master/cloud-netconfig</a></p>
<p>16:43 <code>&lt;robjo&gt;</code> We currently have no GCE specific information but that is easy enough to add. The GCE guest environment handles this and we use the GCE guest environment code in our images in GCE</p>
<p>16:43 <code>&lt;blackboxsw&gt;</code> mgerdts: so can a user turn off that feature on an instance once they've already deployed, or is it create-time only</p>
<p>16:43 <code>&lt;mgerdts&gt;</code> It can be flipped at any time, in the current implementation.</p>
<p>16:44 <code>&lt;mgerdts&gt;</code> current implementation is only in a development branch</p>
<p>16:47 <code>&lt;blackboxsw&gt;</code> mgerdts: the only things I can see being an issue with the maintain network in cloud-init is that we are adding the cost of another function call  &amp;&amp; metdata dict parse to look for a signal about maintaining the network. I agree that cloud-init having granularity between is_new_instance vs just re-do network, is something that cloud-init should have.</p>
<p>16:48 <code>&lt;blackboxsw&gt;</code> we probably need to discuss this too with rharper about what short-term vision we can get to while we await our network hotplug support in cloud-init proper</p>
<p>16:49 <code>&lt;blackboxsw&gt;</code> I'd tend to agree that waiting on fully baked hotplug solution is probably too long in this case</p>
<p>16:49 <code>&lt;blackboxsw&gt;</code> as that runway will be at least 2 months I'd think</p>
<p>16:50 <code>&lt;blackboxsw&gt;</code> ok, I'll take an action item to resolve this if we can by next meeting</p>
<p>16:50 <code>&lt;mgerdts&gt;</code> Not only that, but support for it will likely require changes in the host as well.  We tend not to do host updates very often, so it could be a year or more after the feature is available in images before it will be useful.</p>
<p>16:51 <code>&lt;blackboxsw&gt;</code> #action blackboxsw to have discussions w/ team on datasource maintaining network on each reboot per  <a href="https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712">https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712</a></p>
<p>16:51 * meetingology blackboxsw to have discussions w/ team on datasource maintaining network on each reboot per  <a href="https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712">https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712</a></p>
<p>16:51 <code>&lt;mgerdts&gt;</code> thanks</p>
<p>16:51 <code>&lt;blackboxsw&gt;</code> good topic.</p>
<p>16:52 <code>&lt;mgerdts&gt;</code> Is there another place that is good to catch up with larsks or other people that can offer guidance on for redhat/centos?</p>
<p>16:52 <code>&lt;blackboxsw&gt;</code> let's see, anything else folks want to chat about? stagnant reviews, bugs of interest etc?</p>
<p>16:53 * blackboxsw looks at the last cloud-init community summit attendees list to see if rhel folks have another contacts that was supposed to replace larsks</p>
<p>16:53 <code>&lt;stanguturi&gt;</code> Chad, Is it possible that someone from cloud-init team can take a look at <a href="https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538">https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538</a></p>
<p>16:53 <code>&lt;ubot5&gt;</code> Launchpad bug 1766538 in cloud-init (Ubuntu) "network customization with cloud-init does not work on Ubuntu18.04 Beta2 Server" [Undecided,Confirmed]</p>
<p>16:55 <code>&lt;blackboxsw&gt;</code> mgerts, ryan mccabe is a potential contact too, looks like he's not here either today.</p>
<p>16:56 <code>&lt;mgerdts&gt;</code> ok, thanks</p>
<p>16:56 <code>&lt;blackboxsw&gt;</code> hrm, yeah not certain what mechanism is used to get cloud-init updated into RedHat mgerdts. Maybe filing a redhat bug about the request</p>
<p>16:57 <code>&lt;blackboxsw&gt;</code> mgerdts: <a href="https://bugzilla.redhat.com/">https://bugzilla.redhat.com/</a> maybe</p>
<p>16:58 <code>&lt;blackboxsw&gt;</code> stanguturi: yes we can, we are trying to sort and understand any bugs against Bionic that we can</p>
<p>16:58 <code>&lt;mgerdts&gt;</code> ok, I can try that.</p>
<p>16:58 <code>&lt;blackboxsw&gt;</code> #link <a href="https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538">https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538</a></p>
<p>16:58 <code>&lt;ubot5&gt;</code> Launchpad bug 1766538 in cloud-init (Ubuntu) "network customization with cloud-init does not work on Ubuntu18.04 Beta2 Server" [Undecided,Confirmed]</p>
<p>16:58 <code>&lt;stanguturi&gt;</code> blackboxsw: Thanks</p>
<p>17:00 <code>&lt;blackboxsw&gt;</code> stanguturi: ok, so this is netplan + cloud-init related right?</p>
<p>17:00 <code>&lt;stanguturi&gt;</code> blackboxsw: Yes.</p>
<p>17:01 <code>&lt;akik&gt;</code> what does network hotplug mean in cloud-init context?</p>
<p>17:02 * blackboxsw tries to remember what vmware datasource does, (like writing files direct to network /etc/network/interfaces.d)</p>
<p>17:02 <code>&lt;blackboxsw&gt;</code> akik: <a href="https://hackmd.io/M1Tae41PQBC7a9qMsurTJw">https://hackmd.io/M1Tae41PQBC7a9qMsurTJw</a>?both  is a shared document for comment on hotplug in cloud-init</p>
<p>17:02 <code>&lt;blackboxsw&gt;</code> #link <a href="https://hackmd.io/M1Tae41PQBC7a9qMsurTJw">https://hackmd.io/M1Tae41PQBC7a9qMsurTJw</a>?both</p>
<p>17:03 * blackboxsw looks to see if there was a better doc hrm</p>
<p>17:03 <code>&lt;stanguturi&gt;</code> blackboxsw: Oh. But in the case of netplan, why does cloud-init remembers?</p>
<p>17:04 <code>&lt;akik&gt;</code> blackboxsw: does it mean that cloud-init stays running, waiting for new network interfaces to appear?</p>
<p>17:04 <code>&lt;blackboxsw&gt;</code> akik: right, it would mean that you wouldn't have to reboot cloud-init if devices get added at a later time (post-boot)</p>
<p>17:05 <code>&lt;blackboxsw&gt;</code> cloud-init would listen to some sort of event channel and react, re-write, and apply network config to add new devices</p>
<p>17:06 <code>&lt;akik&gt;</code> would it do the same thing as you could do with ansible or puppet? sorry i'm trying to understand why you would do it with cloud-init</p>
<p>17:08 <code>&lt;blackboxsw&gt;</code> akik: you would try to do it with cloud-init if you didn't want to rely on additional configuration management solutions if the only thing you needed was network config to reflect reality (not full system configuration and system automation)</p>
<p>17:09 * blackboxsw has more puppet/chef background than ansible.</p>
<p>17:09 <code>&lt;blackboxsw&gt;</code> cloud-init does currently detect and write network configuration based on what the user/cloud-metadata tell us is the proper config for the instance</p>
<p>17:10 <code>&lt;akik&gt;</code> i only thought of cloud-init to do the initial configuration</p>
<p>17:10 <code>&lt;blackboxsw&gt;</code> so it would follow that if the metadata could dynamically tell the instance that network config has changed, cloud-init should probably try to react to that to fix the config to match the updated network configuration</p>
<p>17:11 <code>&lt;blackboxsw&gt;</code> akik: correct. cloud-init current only handle initial boot config and leaves the rest up whatever mechanism someone uses to update detailed config after that boot</p>
<p>17:11 <code>&lt;akik&gt;</code> ok thanks</p>
<p>17:12 <code>&lt;blackboxsw&gt;</code> akik: and we'd make that feature configurable (handle hotplug:True/False) so if users have other services handling hotplug cloud-init wouldn't collide</p>
<p>17:13 <code>&lt;blackboxsw&gt;</code> ok I think we're hitting the end of office hours. please feel free to continue discussion, we all poke around here throughout the day as our primary means of communication</p>
<p>17:13 <code>&lt;blackboxsw&gt;</code> thanks robjo akik stanguturi and mgerdts for the lively discussion</p>
<p>17:13 <code>&lt;blackboxsw&gt;</code> stanguturi: I'll dig up more info on that bug today</p>
<p>17:13 <code>&lt;mgerdts&gt;</code> thank you</p>
<p>17:13 <code>&lt;blackboxsw&gt;</code> as always notes will be here</p>
<p>17:14 <code>&lt;blackboxsw&gt;</code> #link <a href="https://cloud-init.github.io/">https://cloud-init.github.io/</a></p>
<p>17:14 <code>&lt;blackboxsw&gt;</code> #endmeeting</p>
<p>Generated by MeetBot 0.1.5 (<a href="http://wiki.ubuntu.com/meetingology">http://wiki.ubuntu.com/meetingology</a>)</p>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>



    <div class="addthis_relatedposts_inline">


</article>

    <footer>
<p>&copy;  </p>
<p>Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Cloud-init Info ",
  "url" : "https://cloud-init.github.io",
  "image": "/images/cloud-init-orange.svg",
  "description": "Cloud-init project updates and general information"
}
</script>

</body>
</html>