Title: Cloud-init bi-weekly status
Date: 2018-05-14 16:05:00 UTC
Category: status-meeting-minutes
Slug: status-2018-05-14

Meeting information
----------------
 * \#cloud-init: Cloud-init bi-weekly status meeting, 14 May at 16:05 &mdash; 17:03 UTC
 * Full logs at [[[http://ubottu.com/meetingology/logs/cloud-init/2018/cloud-init.2018-05-14-16.05.log.html](http://ubottu.com/meetingology/logs/cloud-init/2018/cloud-init.2018-05-14-16.05.log.html)]]



Meeting summary
----------------

### Recent Changes
The discussion about "Recent Changes" started at 16:09.

  *  **LINK**: [https://trello.com/b/hFtWKUn3/daily-cloud-init-curtin](https://trello.com/b/hFtWKUn3/daily-cloud-init-curtin) 

### In-progress Development
The discussion about "In-progress Development" started at 16:19.


### Office Hours (next ~30 mins)
The discussion about "Office Hours (next ~30 mins)" started at 16:29.

  *  **LINK**: [https://pastebin.ubuntu.com/p/266CyDt9gD/](https://pastebin.ubuntu.com/p/266CyDt9gD/) 
  *  **LINK**: [https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538](https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538) 
  *  **LINK**: [https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/emptyStageOK](https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/emptyStageOK) 
  *  **LINK**: [https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/noLnxDistro](https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/noLnxDistro) 
  *  **LINK**: [https://bugs.launchpad.net/cloud-init/+bug/1745235](https://bugs.launchpad.net/cloud-init/+bug/1745235) 
  *  **ACTION**: blackboxsw review distro dection and empty modules list
  *  **ACTION**: robjo review existing chrony support in master per rharper's work
  *  **ACTION**: blackboxsw carryover network hotplug vs network maintenance on reboot-only



Vote results
----------------




Action items, by person
----------------

 * blackboxsw
  * blackboxsw review distro dection and empty modules list
  * blackboxsw carryover network hotplug vs network maintenance on reboot-only
 * rharper
  * robjo review existing chrony support in master per rharper's work
 * robjo
  * robjo review existing chrony support in master per rharper's work



Done items
----------------

 * (none)



People present (lines said)
----------------

 * blackboxsw (73)
 * robjo (14)
 * ubot5 (9)
 * meetingology (6)
 * stanguturi (2)
 * rharper (1)



Full Log
----------------


 16:05 `<blackboxsw>` \#startmeeting Cloud-init bi-weekly status meeting

 16:05 `<meetingology>` Meeting started Mon May 14 16:05:28 2018 UTC.  The chair is blackboxsw. Information about MeetBot at [http://wiki.ubuntu.com/meetingology.](http://wiki.ubuntu.com/meetingology.)

 16:05 `<meetingology>` 

 16:05 `<meetingology>` Available commands: action commands idea info link nick

 16:08 `<blackboxsw>` welcome folks to another cloud-init status meeting. This forum is used to communicate the recent changes,  current development efforts and host open office hours to help get quick discussion on bugs,  branches or features of interest to anyone developing (or consuming) cloud-init.

 16:09 `<blackboxsw>` We'll go through a couple of topics as usual (Recent changes, In-progress Development, Office Hours), if there are any additional topics needed just let me know.

 16:09 `<blackboxsw>` \#topic Recent Changes

 16:10 `<blackboxsw>` We track our upstream work publicly on trello. Feel free to participate or ask questions about any feature work that is seen up there if there are concerns.

 16:11 `<blackboxsw>` \#link [https://trello.com/b/hFtWKUn3/daily-cloud-init-curtin](https://trello.com/b/hFtWKUn3/daily-cloud-init-curtin)

 16:11 `<blackboxsw>` We have landed the following work items: beware the paste :)

 16:11 `<blackboxsw>` * Completed release of 18.2 to Ubuntu Bionic, Artful, and Xenial

 16:11 `<blackboxsw>` * Implement bash completion script for cloud-init command line

 16:11 `<blackboxsw>` * Improved Softlayer datasource documentation

 16:11 `<blackboxsw>` * net: Depend on iproute2's ip instead of net-tools ifconfig or route

 16:11 `<blackboxsw>` * Accept-ra unset by default (LP: \#1732002)

 16:11 `<blackboxsw>` * Command collect-logs will only include most recent boot's journal (LP: \#1766335)

 16:11 `<blackboxsw>` * FreeBSD: Invoke growfs on ufs filesystems such that it does not prompt. (LP: \#1404745)

 16:11 `<ubot5>` Launchpad bug 1732002 in systemd (Ubuntu) "cloud images in lxc get ipv6 address" [Undecided,New] [https://launchpad.net/bugs/1732002](https://launchpad.net/bugs/1732002)

 16:11 `<blackboxsw>` * Azure: poll_imds fixes to only report 'ready' state once during pre-provisioning from Joshua Chan (LP: \#1765214)

 16:11 `<blackboxsw>` * DataSourceSmartOS: fix hang when metadata service is down from Mike Gerdts (LP: \#1667735)

 16:12 `<ubot5>` Launchpad bug 1766335 in cloud-init "Running cloud-init collect-logs inside a chroot is not possible" [Medium,Fix committed] [https://launchpad.net/bugs/1766335](https://launchpad.net/bugs/1766335)

 16:12 `<blackboxsw>` * DataSourceSmartOS: change default fs on ephemeral disk from ext3 to ext4 from Mike Gerdts (LP: \#1763511)

 16:12 `<blackboxsw>` * pycodestyle: Fix invalid escape sequences in string literals

 16:12 `<ubot5>` Launchpad bug 1404745 in cloud-init "cloud-init's growfs/resize fails with gpart dependency on FreeBSD" [Undecided,Fix committed] [https://launchpad.net/bugs/1404745](https://launchpad.net/bugs/1404745)

 16:12 `<ubot5>` Launchpad bug 1765214 in cloud-init "Multiple success messages sent to Azure Fabric if reboot occurs during pre-provisioning" [Medium,Fix committed] [https://launchpad.net/bugs/1765214](https://launchpad.net/bugs/1765214)

 16:12 `<ubot5>` Launchpad bug 1667735 in cloud-init (Ubuntu Trusty) "cloud-init doesn't retry metadata lookups and hangs forever if metadata is down" [Medium,Confirmed] [https://launchpad.net/bugs/1667735](https://launchpad.net/bugs/1667735)

 16:12 `<ubot5>` Launchpad bug 1763511 in cloud-init (Ubuntu) "DataSourceSmartOS should default to ext4" [Medium,Fix released] [https://launchpad.net/bugs/1763511](https://launchpad.net/bugs/1763511)

 16:14 `<blackboxsw>` A big thank you to community involvement again. Thanks jocha(Microsoft) and mgerdts(Joyent) for the recent branch work supporting Azure and SmartOS clouds respectively

 16:16 `<blackboxsw>` We also went through another round of StableReleaseUpdates for Ubuntu on Xenial and Artful to pull in IBMCloud platform fixes. putting Xenial and artful at 18.2-4-g05926e48-0ubuntu~16.04.2 | ~17.10.2

 16:18 `<blackboxsw>` I think that's about it for completed development...

 16:19 `<blackboxsw>` \#topic In-progress Development

 16:21 `<blackboxsw>` There are a couple of items being worked actively at the moment:

 16:22 `<blackboxsw>` * SRU of cloud-init tip into bionic (should land today or tomorrow) 	18.2-27-g6ef92c98-0ubuntu1~18.04.1

 16:23 `<blackboxsw>` * SmartOs datasource detection improvements

 16:23 `<blackboxsw>` * Moving OpenStack datasource to get detected earlier at 'local' stange instead of 'network' stage using ephemeral dhcp client

 16:26 `<blackboxsw>` * read_file_or_url fixes returing text content in all cases

 16:26 `<blackboxsw>` * various upstream bug fixes

 16:27 `<blackboxsw>` * powersj: is also investigating a move to a centralized library for our cloud testing.

 16:29 `<robjo>` blackboxsw: w.r.t. Depend on iproute2's ip instead of net-tools ifconfig or route was this a merge of iproute2tools branch? I don't recall seeing a merge notification but am way behind in e-mail

 16:29 `<blackboxsw>` think that about captures what upstream is working on. I think we can transition to office hours for ~30 mins for anyone to bring up ideas of interest

 16:29 `<blackboxsw>` \#topic Office Hours (next ~30 mins)

 16:29 `<blackboxsw>` hi robjo, checking status there

 16:30 `<blackboxsw>` I know we landed one branch on that topic

 16:31 `<blackboxsw>` robjo: so we had a couple branches to packaging dependencies in ubuntu to call out iproute2 specifically as a hard package dependency.

 16:32 `<blackboxsw>` robjo: and the code changes (which took in some of your branch content  and review comments) landed in rev 6d48d265a0548a2dc23e587f2a335d4e38e8db90

 16:32 `<robjo>` OK, so I can delete my branch

 16:32 `<blackboxsw>` [https://pastebin.ubuntu.com/p/266CyDt9gD/](https://pastebin.ubuntu.com/p/266CyDt9gD/)

 16:34 `<robjo>` thanks, so we'll get that in 18.3?

 16:34 `<blackboxsw>` robjo: yes I think i marked you co-author on that branch and pulled in all your changes to cloudinit/config/cc_disable_ec2_metadata.py

 16:34 `<blackboxsw>` 2

 16:34 `<blackboxsw>` thanks again for that, sorry for the back and forth as I hadn't seen your original branch.

 16:35 `<blackboxsw>` robjo: definitely in 18.3

 16:35 `<blackboxsw>` it landed a week or two after the 18.2 cut.

 16:35 `<stanguturi>` @blackboxsw, Can someone please provide inputs for the bug [https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538](https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538) One of our team members has uploaded the necessary log files to the bug.

 16:35 `<ubot5>` Ubuntu bug 1766538 in cloud-init (Ubuntu) "network customization with cloud-init does not work on Ubuntu18.04 Beta2 Server" [Undecided,New]

 16:38 `<robjo>` OK, so lets also revisit some of the other stuff I have floating about as I just did the 18.2 package for openSUSE and SLES and noticed that I am once again scarring a lot of patches :(

 16:39 `<robjo>` blackboxsw: [https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/emptyStageOK](https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/emptyStageOK) should be back in your court, did you get notification?

 16:40 `<robjo>` blackboxsw: [https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/noLnxDistro](https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/noLnxDistro) pending since January this may have some merge conflicts now as I had to fiddle quite a bit with the patch in my package

 16:41 `<blackboxsw>` stanguturi: looking

 16:41 `<robjo>` I think rharper is working on a different approach to [https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/chrony](https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/chrony) when can we expect that?

 16:42 `<robjo>` and does rharper account for the fact that ntp has a different service name on different distributions?

 16:43 `<blackboxsw>` \#link [https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538](https://bugs.launchpad.net/ubuntu/+source/cloud-init/+bug/1766538)

 16:43 `<ubot5>` Ubuntu bug 1766538 in cloud-init (Ubuntu) "network customization with cloud-init does not work on Ubuntu18.04 Beta2 Server" [Undecided,New]

 16:43 `<blackboxsw>` \#link [https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/emptyStageOK](https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/emptyStageOK)

 16:43 `<blackboxsw>` ahh robjo hadn't, was on vacation Friday, will grab that/close out today

 16:43 `<blackboxsw>` \#link [https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/noLnxDistro](https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/noLnxDistro)

 16:44 `<rharper>` robjo: re: ntp/chrony, that's landed, including service names for different distros; I pulled unittests and scenarios from your branch; please look over master and see if we're missing anything from your branch w.r.t use-case/scenario

 16:45 `<robjo>` rharper: OK, if it's landed I can at least throw my branch away, and yes, will take a look at master, I take it this will be another in 18.3 item?

 16:46 `<blackboxsw>` stanguturi: ok thanks for the logs on that bug, looks like network config parsing is falling over and OVF datasource isn't being detected [https://pastebin.ubuntu.com/p/qVJxDJWZRV/](https://pastebin.ubuntu.com/p/qVJxDJWZRV/)

 16:47 `<stanguturi>` @blackboxsw, Oh . Thanks. Will check with him about the test setup and update the bug. Thanks.

 16:48 `<blackboxsw>` updated the bug with a comment there

 16:48 `<blackboxsw>` thanks stanguturi

 16:50 `<blackboxsw>` robjo: correct as well for ntp/chrony, we held off landing it in 18.2 because of risk

 16:50 `<blackboxsw>` it was one of the first branches landed after the cut

 16:51 `<robjo>` ok, leaves the [https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/noLnxDistro](https://code.launchpad.net/~rjschwei/cloud-init/+git/cloud-init/+ref/noLnxDistro) implementation of distro detection as things I'd like to get resolved, others to be addressed maybe in 2 weeks ;)

 16:51 `<blackboxsw>` ok noLnxDistro....  I'm updating the commit comment robjo to the trailing LP: \#`<bug_id>`

 16:51 `<blackboxsw>` claiming a review slot on that now

 16:53 `<blackboxsw>` good unit test coverage, thanks for that

 16:54 `<robjo>` np

 16:55 `<blackboxsw>` ok this can be reviewed today, not sure if why we don't already have a get_linux_distro utility somewhere, but I'll poke around today for context

 16:55 `<blackboxsw>` ahh ahh, thanks for the bug robjo ok

 16:56 `<robjo>` the context is that the Python implementation is going away and has been deprecated

 16:56 `<blackboxsw>` \#link [https://bugs.launchpad.net/cloud-init/+bug/1745235](https://bugs.launchpad.net/cloud-init/+bug/1745235)

 16:56 `<ubot5>` Ubuntu bug 1745235 in cloud-init "distribution detection" [Undecided,New]

 16:56 `<blackboxsw>` thanks again

 16:56 `<blackboxsw>` changing that status and will help you get that landed

 16:56 `<blackboxsw>` good one

 16:58 `<robjo>` OK, blackboxsw is on the hook for two things this week ;) distro detection and the empty modules list

 16:58 `<blackboxsw>` \#action blackboxsw review distro dection and empty modules list

 16:58 * meetingology blackboxsw review distro dection and empty modules list

 16:58 * robjo on the hook to look at chrony support in master and report back to rharper

 16:58 `<blackboxsw>` \#action robjo review existing chrony support in master per rharper's work

 16:58 * meetingology robjo review existing chrony support in master per rharper's work

 16:59 `<blackboxsw>` official now :)

 16:59 `<blackboxsw>` now if I only reviewed previous meeting's action items.... checking now

 17:00 `<blackboxsw>` 16:51 `<blackboxsw>` \#action blackboxsw to have discussions w/ team on datasource maintaining network on each reboot per  [https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712](https://code.launchpad.net/~mgerdts/cloud-init/+git/cloud-init/+merge/343712)

 17:01 `<blackboxsw>` ok per last meeting, we have held a couple of discussions on hotplug vs. maintaining network only on reboot. on first blush it looks like we'd need to have these mutually exclusive, but we are just started to iron our what we want to do for our initial hotplug support in cloud-init and have to have a followup discussion about how to support both approaches

 17:02 `<blackboxsw>` \#action blackboxsw carryover network hotplug vs network maintenance on reboot-only

 17:02 * meetingology blackboxsw carryover network hotplug vs network maintenance on reboot-only

 17:02 `<blackboxsw>` well that was the only action item from last meeting looks like

 17:02 `<blackboxsw>` ok I think that wraps up today's meeting.

 17:02 `<blackboxsw>` any other parting shots folks?

 17:03 `<blackboxsw>` Thanks again for your time. It's always a pleasure.

 17:03 `<blackboxsw>` Next meeting two weeks, same bat time...

 17:03 `<blackboxsw>` \#endmeeting



Generated by MeetBot 0.1.5 ([http://wiki.ubuntu.com/meetingology](http://wiki.ubuntu.com/meetingology))